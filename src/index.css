@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Global Vibe Palette */
    --beige-nostalgico: #F5F5DC;
    --gris-consola: #808080;
    --negro-crt: #0F0F0F;
    --laton-poneglyph: #B5A642;

    /* Font stacks */
    --font-pixel: 'Press Start 2P', system-ui, monospace;
    --font-os: 'Tahoma', 'MS Sans Serif', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  /* Sakura theme override */
  html[data-theme='sakura'] {
    --beige-nostalgico: #FFECEB; /* sakura paper */
    --gris-consola: #B8A0A6;     /* sakura shadow */
    --negro-crt: #0B0A0C;        /* deeper ink */
    --laton-poneglyph: #FF72B6;  /* sakura neon */
  }

  html { font-family: var(--font-sans); font-feature-settings: "rlig" 1, "calt" 1; }
  body { @apply antialiased bg-[#0b0b12] text-white; cursor: url('/cursors/pixel-default.svg') 0 0, auto; }
}

/* Global cursors */
.loading-cursor { cursor: url('/cursors/pixel-wait.svg') 16 16, progress; }

/* Typography helpers */
.font-pixel { font-family: var(--font-pixel); letter-spacing: 0.02em; }
.font-os { font-family: var(--font-os); }

/* Texture backgrounds */
.bg-leather { background-image: url('/textures/leather.svg'); background-size: 256px 256px; }
.bg-parchment { background-image: url('/textures/parchment.svg'); background-size: 256px 256px; }
.bg-pixel-neon { background-image: url('/textures/pixel_neon.png'); background-size: 128px 128px; image-rendering: pixelated; }

/* Win98 beveled UI */
.ui-bevel { background: #C0C0C0; border-top: 2px solid #fff; border-left: 2px solid #fff; border-right: 2px solid #7b7b7b; border-bottom: 2px solid #7b7b7b; color: #000; }
.ui-bevel-inset { background: #E5E5E5; border-top: 2px solid #7b7b7b; border-left: 2px solid #7b7b7b; border-right: 2px solid #fff; border-bottom: 2px solid #fff; color: #000; }
.btn-98 { @apply px-3 py-1 text-sm; background: #C0C0C0; border-top: 2px solid #fff; border-left: 2px solid #fff; border-right: 2px solid #7b7b7b; border-bottom: 2px solid #7b7b7b; color: #000; }
.btn-98:active { border-top: 2px solid #7b7b7b; border-left: 2px solid #7b7b7b; border-right: 2px solid #fff; border-bottom: 2px solid #fff; }

/* Accent utilities */
.text-laton { color: var(--laton-poneglyph); }
.bg-laton { background-color: var(--laton-poneglyph); }
.border-laton { border-color: var(--laton-poneglyph); }
.bg-crt { background: var(--negro-crt); }
.border-console { border-color: var(--gris-consola); }
.bg-beige { background: var(--beige-nostalgico); color: #1f1f1f; }

/* Overlays */
.overlay-haki { background: radial-gradient(ellipse at center, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.85) 60%, rgba(0,0,0,0.95) 100%); mix-blend-mode: multiply; }

/* Animations */
@keyframes haki-conqueror {
  0% { filter: drop-shadow(0 0 0px #000); }
  50% { filter: drop-shadow(0 0 12px #000); }
  100% { filter: drop-shadow(0 0 0px #000); }
}
.haki-pulse { animation: haki-conqueror 1.2s infinite; }

@keyframes glow-scanline {
  0% { opacity: .7; }
  50% { opacity: 1; }
  100% { opacity: .7; }
}
.scanline { position: relative; }
.scanline::after {
  content: "";
  position: absolute; inset: 0; pointer-events: none;
  background: linear-gradient(rgba(255,255,255,0.02) 50%, rgba(0,0,0,0.02) 50%);
  background-size: 100% 3px; mix-blend-mode: overlay; animation: glow-scanline 4s infinite; border-radius: inherit;
}

/* Utility from previous layer for transitions */
@layer utilities {
  .animate-in { animation-name: animateIn; animation-duration: 350ms; --tw-enter-opacity: initial; --tw-enter-scale: initial; --tw-enter-rotate: initial; --tw-enter-translate-x: initial; --tw-enter-translate-y: initial; }
  .animate-out { animation-name: animateOut; animation-duration: 350ms; --tw-exit-opacity: initial; --tw-exit-scale: initial; --tw-exit-rotate: initial; --tw-exit-translate-x: initial; --tw-exit-translate-y: initial; }
}
